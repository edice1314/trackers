# GitHub 部署详细步骤

## 方法一：使用GitHub网页（推荐，最简单）

### 第1步：创建GitHub仓库

1. 打开浏览器，访问 https://github.com/new
2. 填写仓库信息：
   - **Repository name**: `trackers`
   - **Description**: `自动整合的BitTorrent Tracker列表，每天自动更新`
   - **Public/Private**: 选择 `Public`（公开才能使用raw链接）
   - ⚠️ **不要勾选** "Add a README file"
   - ⚠️ **不要勾选** "Add .gitignore"
   - ⚠️ **不要勾选** "Choose a license"
3. 点击 **Create repository**

### 第2步：配置Git用户信息

在当前目录执行以下命令（替换为你的信息）：

```bash
git config --global user.name "你的GitHub用户名"
git config --global user.email "你的GitHub邮箱"
```

### 第3步：推送代码到GitHub

创建仓库后，GitHub会显示推送命令，执行以下命令：

```bash
# 切换到main分支
git branch -M main

# 添加远程仓库（替换YOUR_USERNAME为你的GitHub用户名）
git remote add origin https://github.com/YOUR_USERNAME/trackers.git

# 推送代码
git push -u origin main
```

**注意**：首次推送时会要求输入GitHub凭据：
- **用户名**：你的GitHub用户名
- **密码**：需要使用 **Personal Access Token**（不是GitHub登录密码）

### 第4步：创建Personal Access Token（如果需要）

如果你还没有Token：

1. 访问 https://github.com/settings/tokens
2. 点击 **Generate new token** > **Generate new token (classic)**
3. 填写信息：
   - **Note**: `trackers-repo`
   - **Expiration**: 选择过期时间（建议90天或更长）
   - **Select scopes**: 勾选 `repo`（完整的仓库访问权限）
4. 点击 **Generate token**
5. ⚠️ **立即复制Token**（只显示一次！）
6. 在推送时使用这个Token作为密码

### 第5步：启用GitHub Actions权限

1. 进入你的仓库页面：`https://github.com/YOUR_USERNAME/trackers`
2. 点击 **Settings**（设置）
3. 左侧菜单选择 **Actions** > **General**
4. 滚动到 **Workflow permissions**
5. 选择 **Read and write permissions**
6. 勾选 **Allow GitHub Actions to create and approve pull requests**
7. 点击 **Save**

### 第6步：更新README中的用户名

编辑 `README.md` 文件，将所有 `YOUR_USERNAME` 替换为你的实际GitHub用户名。

### 第7步：手动触发首次更新（可选）

1. 进入仓库的 **Actions** 标签
2. 选择 **Update Trackers** workflow
3. 点击 **Run workflow** > **Run workflow** 按钮
4. 等待执行完成（约30秒）

---

## 方法二：使用SSH密钥（更安全）

### 第1步：生成SSH密钥

```bash
ssh-keygen -t ed25519 -C "你的GitHub邮箱"
# 按Enter使用默认路径，可以设置密码或直接按Enter
```

### 第2步：添加SSH密钥到GitHub

```bash
# 显示公钥
cat ~/.ssh/id_ed25519.pub
```

1. 复制输出的公钥
2. 访问 https://github.com/settings/ssh/new
3. **Title**: `Docker Server`
4. **Key**: 粘贴公钥
5. 点击 **Add SSH key**

### 第3步：使用SSH推送

```bash
git branch -M main
git remote add origin git@github.com:YOUR_USERNAME/trackers.git
git push -u origin main
```

---

## 验证部署成功

部署成功后，你可以：

1. 访问仓库页面：`https://github.com/YOUR_USERNAME/trackers`
2. 查看tracker文件：`https://github.com/YOUR_USERNAME/trackers/blob/main/trackers.txt`
3. 获取原始链接：`https://raw.githubusercontent.com/YOUR_USERNAME/trackers/main/trackers.txt`

测试链接：
```bash
curl -s https://raw.githubusercontent.com/YOUR_USERNAME/trackers/main/trackers.txt | head -5
```

---

## 常见问题

### Q: 推送时提示 "Authentication failed"
A: 确保使用Personal Access Token而不是GitHub密码

### Q: Actions没有自动运行
A: 检查Settings > Actions > General中的权限设置

### Q: 想要修改更新时间
A: 编辑 `.github/workflows/update.yml` 中的 cron 表达式

### Q: 如何添加更多tracker源
A: 编辑 `update_trackers.sh`，添加新的 `curl` 命令

---

## 快速命令参考

```bash
# 配置Git
git config --global user.name "你的用户名"
git config --global user.email "你的邮箱"

# 推送到GitHub
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/trackers.git
git push -u origin main

# 后续更新
git add .
git commit -m "更新说明"
git push
```
